@model IEnumerable<BookWyrm.Data.ViewModels.BookViewModel>
@using BookWyrm.Data.Services;

@{
    ViewBag.Title = "Book List";
}

<style>
    td, th {
        text-align: center;
        vertical-align: middle !important;
    }
</style>


<h2>All Books</h2>

<p>
    <a href="@Url.Action("Create", "Book")" class="hoverable-link">
        <span class="glyphicon glyphicon-plus" aria-hidden="true" style="text-decoration: none !important; margin-right: 5px;"></span>
        <span>Add New Book</span>
    </a>
</p>
<table class="table table-striped">
    <tr>
        <th></th>
        <th>Availablity</th>
        <th>@Html.DisplayNameFor(model => model.Title)</th>
        <th>@Html.DisplayNameFor(model => model.Author)</th>
        <th>@Html.DisplayNameFor(model => model.YearPublished)</th>
        <th>@Html.DisplayNameFor(model => model.Genre)</th>
        <th>@Html.DisplayNameFor(model => model.MinAgeReq)</th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            <a href="@Url.Action("Details", "Book", new { id = item.BookId })" class="hoverable-link">
                <span class="glyphicon glyphicon-hand-up" aria-hidden="true" style="text-decoration: none !important; margin-right: 5px;"></span>
                <span>View</span>
            </a>
        </td>
        @if (item.Availability == true)
        {
            <td><span class="glyphicon glyphicon-ok" aria-hidden="true" style="color: #5cb85c;"></span></td>
        }
        else
        {
            <td><span class="glyphicon glyphicon-remove" aria-hidden="true" style="color: #c9302c;"></span></td>
        }
        @{
            string itemTitle = item.Title.Truncate(25);
        }
        <td>@Html.DisplayFor(modelItem => itemTitle)</td>
        <td>@Html.DisplayFor(modelItem => item.Author)</td>
        <td>@Html.DisplayFor(modelItem => item.YearPublished)</td>
        <td>@Html.DisplayFor(modelItem => item.Genre)</td>
        <td>@Html.DisplayFor(modelItem => item.MinAgeReq)</td>
        <td>
            <a href="@Url.Action("Edit", "Book", new { id = item.BookId })" class="hoverable-link" style="line-height: 2.5rem;">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="text-decoration: none !important; margin-right: 5px;"></span>
                <span>Edit</span>
            </a>
            <br />
            <a href="@Url.Action("Delete", "Book", new { id = item.BookId })" class="hoverable-link" style="line-height: 2.5rem;">
                <span class="glyphicon glyphicon-trash" aria-hidden="true" style="text-decoration: none !important; margin-right: 5px;"></span>
                <span>Delete</span>
            </a>
        </td>
    </tr>
    }

</table>
